!function(e,t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("ddky requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){function r(){function t(){return"192"!=s.domain.substring(0,3)&&"127"!=s.domain.substring(0,3)&&-1==e.location.href.indexOf("localhost")}function i(){return e.navigator.userAgent.toLowerCase().indexOf("ddky/")>0}function r(e){var t=e.toBIStr();t=t.toString();var i=k?"https://www.ddky.com:"+S:"http://192.168.89.55:"+S;$(s.body).append($("<img style='display:none;' src='"+i+"/ddky.gif?msg="+t+"'/>"))}function n(){var t=e.location.href,i=e.document.title,n=new I;n.create(),n.cururl=t,n.title=i,n.clktp="01",n.preurl=s.referrer,n.viewthis=(new Date).getTime(),v.getQueryString("skuId")&&(n.skuid=v.getQueryString("skuId")),v.getShopId()&&(n.pharmacyid=v.getShopId()),v.getQueryString("id")&&(n.proid=v.getQueryString("id")),v.getQueryString("orderid")&&(n.orderid=v.getQueryString("orderid")),null==v.getQueryString("from")&&null==v.getQueryString("source")||(n.srckw=v.getQueryString("from")||v.getQueryString("source")),null!=v.getUserId()&&(n.userid=v.getUserId()),r(n)}function o(t){var i=e.location.href,n=e.document.title,o=new I;o.create(),o.cururl=i,o.title=n,o.clktp="01",o.preurl=s.referrer,o.viewthis=(new Date).getTime(),o.orderid=t,null==v.getQueryString("from")&&null==v.getQueryString("source")||(o.srckw=v.getQueryString("from")||v.getQueryString("source")),null!=v.getUserId()&&(o.userid=v.getUserId()),r(o)}function a(t){var i=e.location.href,n=new I;n.create(),n.cururl=i,n.title=t,n.clktp="01",n.preurl=s.referrer,n.viewthis=(new Date).getTime(),null==v.getQueryString("from")&&null==v.getQueryString("source")||(n.srckw=v.getQueryString("from")||v.getQueryString("source")),null!=v.getUserId()&&(n.userid=v.getUserId()),n.searchkeyword=t,r(n)}function c(t,i,n,o){var a=e.location.href,c=e.document.title,d=new I;d.create(),d.cururl=a,d.title=c,d.clktp="02",o&&(d.pharmacyid=n,d.pmcid3=o),d.isshopcart="1",d.preurl=s.referrer,null==v.getQueryString("from")&&null==v.getQueryString("source")||(d.srckw=v.getQueryString("from")||v.getQueryString("source")),null!=v.getUserId()&&(d.userid=v.getUserId()),d.proid=t,d.skuid=i,r(d)}function d(){var t=e.location.href,i=e.document.title,n=new I;n.create(),n.cururl=t,n.title=i,n.clktp="01",n.clienttype="1",n.preurl=s.referrer,null==v.getQueryString("from")&&null==v.getQueryString("source")||(n.srckw=v.getQueryString("from")||v.getQueryString("source")),null!=v.getUserId()&&(n.userid=v.getUserId()),v.getQueryString("skuId")&&(n.skuid=v.getQueryString("skuId")),r(n)}function h(t){var i=e.location.href,n=new I;n.create(),n.cururl=i,n.clktp="02",n.title=t,n.preurl=s.referrer,null==v.getQueryString("from")&&null==v.getQueryString("source")||(n.srckw=v.getQueryString("from")||v.getQueryString("source")),null!=v.getUserId()&&(n.userid=v.getUserId()),r(n)}function l(t,i){var n=t.text();if($("#tel").val())var o=$("#tel").val();else var o=i.val();if(null==t.attr("class"))var a=t.attr("id");else var a=t.attr("class");null!=v.getUserId()&&(a.userid=v.getUserId());var c=localStorage.getItem("cookieId"),d=e.location.href,h=new I;h.create(),h.cururl=d,h.cookieid=c,h.preurl=s.referrer,h.clktp="02",h.title=n,h.clkid=a,h.mobileno=o,h.srckw=v.cookie.get("from")||v.cookie.get("source"),r(h)}function u(){var t=localStorage.getItem("cookieId"),i=e.location.href,n=$(".duihuanma").val(),o=new I;o.create(),o.cururl=i,o.cookieid=t,o.preurl=s.referrer,o.clktp="02",o.title="去兑换",o.clkid="ok-duihuan",o.operator=n,o.userid=v.getUserId(),o.city=v.getQueryString("shopId"),r(o)}function p(){var t=localStorage.getItem("cookieId"),i=e.location.href,n=new I;n.create(),n.cururl=i,n.cookieid=t,n.preurl=s.referrer,n.clktp="02",n.title="确认已领取",n.clkid="queding",n.userid=v.getQueryString("userId"),n.city=v.getQueryString("shopId"),r(n)}function m(t,i){var r=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i");i=i?i.substr(i.indexOf("?")+1):e.location.search.substr(1);var s=i.match(r);return null!=s&&s[2]&&""!=s[2]&&"null"!=s[2]?s[2]:""}function g(e){if(b.get("source")){if(b.get("source")==b.get("utmsource")){var t=new Date;return t.setHours(t.getHours()+2),b.set("source",e,{expires:t,domain:v.domain_way}),e}return""}var t=new Date;return t.setHours(t.getHours()+2),b.set("source",e,{domain:v.domain_way,expires:t}),e}function f(e){if(b.get("source"))return"";var t=new Date;return t.setHours(t.getHours()+2),b.set("source",e,{domain:v.domain_way,expires:t}),b.set("utmsource",e,{domain:v.domain_way,expires:t}),e}function y(){var e={a_id:m("a_id")||"",m_id:m("m_id")||"",c_id:m("c_id"),l_id:m("l_id"),l_type1:m("l_type1"),rd:m("rd")||3,_url:m("url"),chn_id:m("chn_id")||"1002"};if(e.a_id||e.m_id){var t=new Date;return t.setHours(t.getHours()+2),b.set("cps",e.a_id+"|"+e.m_id+"|"+e.l_id+"|"+e.l_type1+"|"+e.chn_id,parseInt(e.rd),{expires:t,domain:v.domain_way}),"cps"}return""}var v=this;!e.MD5&&$.md5&&(e.MD5=$.md5);var k=t(),w=!1;w="micromessenger"==e.navigator.userAgent.toLowerCase().match(/MicroMessenger/i);var _=e.location.href.indexOf("ddky.com")>0||e.location.href.indexOf("89.47")>0,S=_?8051:8087;Date.prototype.format=function(e){var t={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length)));for(var i in t)new RegExp("("+i+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?t[i]:("00"+t[i]).substr((""+t[i]).length)));return e};var I=function(){new Date;this.midchar="",this.visitime="-",this.allip="-",this.userid="-",this.cookieid="-",this.sessionid="-",this.usiteid="-",this.preurl="-",this.cururl="-",this.title="-",this.sessionfirstTime="-",this.sessionlastTime="-",this.sessionthisTime="-",this.viewlast="-",this.viewthis="-",this.pageloadTime="-",this.sessioncount="-",this.pagecount="-",this.pmcid1="-",this.pmcid2="-",this.pmcid3="-",this.srcdomin="-",this.srcad="-",this.srcmedia="-",this.srckw="-",this.searchkeyword="-",this.pharmacyid="-",this.proid="-",this.skuid="-",this.orderid="-",this.isshopcart="-",this.clktp="-",this.clkid="-",this.carttype="-",this.cartoperation="-",this.shaopcarsku="-",this.clklinkid="-",this.clkurl="-",this.topurl=function(){var t=e.navigator.userAgent,r={equipment:"",laiyuan:"",versions:function(){var e=new Array("iPhone","ios","Windows Phone","iPad","iPod","Android");"micromessenger"==t.toLowerCase().match(/MicroMessenger/i)?r.laiyuan="WX":i()?r.laiyuan="app/ddky":r.laiyuan="H5";for(var s=0;s<e.length;s++)if(t.indexOf(e[s])>0){r.equipment=e[s];break}r.equipment||(r.equipment="pc")}};return r.versions(),r.laiyuan+"/"+r.equipment},this.srckw="-",this.kpurl="-",this.isjava="-",this.screenresolution="-",this.screensize="-",this.lang="-",this.encoding="-",this.hostname="-",this.flashver="-",this.clienttype="-",this.ietype="-",this.iever="-",this.cltvers="-",this.brand="-",this.devicename="-",this.osvers="-",this.mobileno="-",this.operator="-",this.nettype="-",this.country="-",this.province="-",this.city="-",this.county="-",this.create=function(){var e=new Date;this.visitime=e.format("yyyy-MM-dd hh:mm:ss"),this.cookieid=s(),this.sessionid=t(),this.sessionfirstTime=r()};var t=function(){if(e.sessionStorage){if(sessionStorage.getItem("sessionIDKey"))return sessionStorage.getItem("sessionIDKey");var t=new Date,i=""+t.getTime()+parseInt(1e3*Math.random());return sessionStorage.setItem("sessionIDKey",MD5(i)),sessionStorage.setItem("firstSessionTimeKey",t.getTime()),sessionStorage.getItem("sessionIDKey")}},r=function(){if(e.sessionStorage){if(sessionStorage.getItem("firstSessionTimeKey"))return sessionStorage.getItem("firstSessionTimeKey");var t=new Date,i=""+t.getTime()+parseInt(1e3*Math.random());return sessionStorage.setItem("sessionIDKey",i),sessionStorage.setItem("firstSessionTimeKey",t.getTime()),sessionStorage.getItem("firstSessionTimeKey")}},s=function(){var e=new Date,t=localStorage.getItem("cookieId");if(null==t||""==t||"NaN"==t){var i=""+e.getTime()+parseInt(1e3*Math.random()),r=MD5(i);return localStorage.setItem("cookieId",r),r}return t};this.toBIStr=function(){return this.visitime+this.midchar+this.allip+this.midchar+this.userid+this.midchar+this.cookieid+this.midchar+this.sessionid+this.midchar+this.usiteid+this.midchar+this.preurl+this.midchar+this.cururl+this.midchar+this.title+this.midchar+this.sessionfirstTime+this.midchar+this.sessionlastTime+this.midchar+this.sessionthisTime+this.midchar+this.viewlast+this.midchar+this.viewthis+this.midchar+this.pageloadTime+this.midchar+this.sessioncount+this.midchar+this.pagecount+this.midchar+this.pmcid1+this.midchar+this.pmcid2+this.midchar+this.pmcid3+this.midchar+this.srcdomin+this.midchar+this.srcad+this.midchar+this.srcmedia+this.midchar+this.srckw+this.midchar+this.searchkeyword+this.midchar+this.pharmacyid+this.midchar+this.proid+this.midchar+this.skuid+this.midchar+this.orderid+this.midchar+this.isshopcart+this.midchar+this.clktp+this.midchar+this.clkid+this.midchar+this.carttype+this.midchar+this.cartoperation+this.midchar+this.shaopcarsku+this.midchar+this.clklinkid+this.midchar+this.clkurl+this.midchar+this.topurl()+this.midchar+this.srckw+this.midchar+this.kpurl+this.midchar+this.isjava+this.midchar+this.screenresolution+this.midchar+this.screensize+this.midchar+this.lang+this.midchar+this.encoding+this.midchar+this.hostname+this.midchar+this.flashver+this.midchar+this.clienttype+this.midchar+this.ietype+this.midchar+this.iever+this.midchar+this.cltvers+this.midchar+this.brand+this.midchar+this.devicename+this.midchar+this.osvers+this.midchar+this.mobileno+this.midchar+this.operator+this.midchar+this.nettype+this.midchar}},v=this,b=function(){return b.get.apply(b,arguments)},x=b.utils={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},isPlainObject:function(e){return!!e&&"[object Object]"===Object.prototype.toString.call(e)},toArray:function(e){return Array.prototype.slice.call(e)},getKeys:Object.keys||function(e){var t=[],i="";for(i in e)e.hasOwnProperty(i)&&t.push(i);return t},encode:function(e){return String(e).replace(/[,;"\\=\s%]/g,function(e){return encodeURIComponent(e)})},decode:function(e){return decodeURIComponent(e)},retrieve:function(e,t){return null==e?t:e}};b.defaults={},b.expiresMultiplier=86400,b.set=function(e,t,i){if(x.isPlainObject(e))for(var r in e)e.hasOwnProperty(r)&&this.set(r,e[r],t);else{i=x.isPlainObject(i)?i:{expires:i};var n=void 0!==i.expires?i.expires:this.defaults.expires||"",o=typeof n;"string"===o&&""!==n?n=new Date(n):"number"===o&&(n=new Date(+new Date+1e3*this.expiresMultiplier*n)),""!==n&&"toGMTString"in n&&(n=";expires="+n.toGMTString());var a=i.path||this.defaults.path;a=";path=/";var c=i.domain||this.defaults.domain;c=c?";domain="+c:"";var d=i.secure||this.defaults.secure?";secure":"";!1===i.secure&&(d=""),s.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)+n+a+c+d}return this},b.setDefault=function(e,t,i){if(x.isPlainObject(e)){for(var r in e)void 0===this.get(r)&&this.set(r,e[r],t);return b}if(void 0===this.get(e))return this.set.apply(this,arguments)},b.remove=function(e){e=x.isArray(e)?e:x.toArray(arguments);for(var t=0,i=e.length;t<i;t++)this.set(e[t],"",{expires:-1,domain:v.domain_way});return this},b.removeSpecific=function(e,t){if(!t)return this.remove(e);e=x.isArray(e)?e:[e],t.expires=-1;for(var i=0,r=e.length;i<r;i++)this.set(e[i],"",t);return this},b.empty=function(){return this.remove(x.getKeys(this.all()))},b.get=function(e,t){var i=this.all();if(x.isArray(e)){for(var r={},s=0,n=e.length;s<n;s++){var o=e[s];r[o]=x.retrieve(i[o],t)}return r}return x.retrieve(i[e],t)},b.all=function(){if(""===s.cookie)return{};for(var e=s.cookie.split("; "),t={},i=0,r=e.length;i<r;i++){var n=e[i].split("="),o=x.decode(n.shift()),a=x.decode(n.join("="));t[o]=a}return t},b.enabled=function(){if(navigator.cookieEnabled)return!0;var e="_"===b.set("_","_").get("_");return b.remove("_"),e};var L=!0;-1==e.location.href.indexOf("://pre")&&(L=!1),this.version=this.versionName="4.9.0",this.online=t(),this.domain_way=this.online?".ddky.com":s.domain,this.cookie=b,this.urls=function(){var t=!0,i="";return-1==e.location.href.indexOf("https://")&&(t=!1),i=t?L?"https://pre":"https://":L?"http://pre":"http://",{url_api:k?i+"api.ddky.com/cms/rest.htm":"http://192.168.86.117/cms/rest.htm",url_wxConfig:k?i+"mcp.ddky.com/weixin/getWxConfig":"http://192.168.86.72:8080/weixin/getWxConfig",url_mcpShare:k?i+"mcp.ddky.com/weixin/rest.htm":"http://192.168.86.72:8080/weixin/rest.htm",url_passport:k?i+"passport.ddky.com":"http://192.168.89.43",url_user:k?i+"passport.ddky.com/user/rest.htm":"http://192.168.89.43/user/rest.htm",url_home:k?i+"product.ddky.com/productEntrance/rest.htm":"http://192.168.89.38:8080/productEntrance/rest.htm",url_addresslist:k?i+"passport.ddky.com/address/addressList.htm":"http://192.168.89.43/address/addressList.htm",url_city:k?i+"passport.ddky.com/addressEntrance/rest.htm":"http://192.168.89.43/addressEntrance/rest.htm",url_getCityMsg:k?i+"passport.ddky.com/address/cityDefaultShop.htm":"http://192.168.89.43/address/cityDefaultShop.htm",url_addressInfo:k?i+"passport.ddky.com/address/addressInfo.htm":"http://192.168.89.43/address/addressInfo.htm",url_search:k?"https://search.ddky.com/search":"http://192.168.89.57:8080/search",url_product:k?i+"product.ddky.com/main/rest.htm":"http://192.168.89.38:8080/main/rest.htm",url_shoucang:k?i+"passport.ddky.com/favoriteWriteEntrance/rest.htm":"http://192.168.89.43/favoriteWriteEntrance/rest.htm",url_order:k?i+"order.ddky.com/order/rest.htm":"http://192.168.89.40/order/rest.htm",url_dizhi:k?i+"passport.ddky.com/consigneeEntrance/rest.htm":"http://192.168.89.43/consigneeEntrance/rest.htm",url_youhuiquan:k?i+"voucher.ddky.com/main/rest.htm":"http://192.168.89.44/main/rest.htm",url_shop:k?i+"pop.ddky.com/pharmacy_main/rest.htm":"http://192.168.86.226/pharmacy_main/rest.htm",url_position:k?i+"passport.ddky.com/address/locationInfo.htm":"http://192.168.89.43/address/locationInfo.htm",url_poi:k?i+"passport.ddky.com/address/poi.htm":"http://192.168.89.43/address/poi.htm",url_o2o_Infor:k?i+"pop.ddky.com/entrance/rest.htm":"http://192.168.86.226/entrance/rest.htm",url_b2c_order:k?i+"b2c.ddky.com/o2o/order/cancleOrderForH5":"http://192.168.86.80:8080/o2o/order/cancleOrderForH5",url_tpmall:k?L?"http://tpmall.ddky.com:8080/h5api/rest.htm":"https://tpmall.ddky.com/h5api/rest.htm":"http://192.168.86.16/h5api/rest.htm",Infor_b2c_url:k?i+"b2c.ddky.com/o2o/order/orderEvaluationForH5":"http://192.168.86.12:8080/b2c/o2o/order/orderEvaluationForH5"}}(),this.isApp=i(),this.isPre=L,this.isWX=w,this.code="DDKY2wsxzaq1",this.onShow=n,this.cookieId=localStorage.getItem("cookieId")||"",this.sendOrder=o,this.searchKeyWord=a,this.biGoodsCar=c,this.pcShow=d,this.commentClick=h,this.getTel=l,this.sendLinQu=u,this.sureYiLinQu=p,this.enc=function(){var e=m("enc");return e?(b.set("enc",e,{domain:v.domain_way}),e):""}(),this.wuenc=function(){var e=m("wuenc");return e?(b.set("wuenc",e,{domain:v.domain_way}),e):""}(),this.urlopenId=function(){var e=m("oenc");return e?(b.set("oenc",e,{domain:v.domain_way}),e):""}(),this.source=function(){m("utm_source")?f(m("utm_source")):m("source")?g(m("source")):m("channel")&&g(m("channel")),y()}()}var s=e.document;r.prototype={getRequestURL:function(e,t,i){if(i&&1==i)var r="V8E26BD7FN76D08C349A43D6D3M51A1B";else var r="6C57AB91A1308E26B797F4CD382AC79D";_this=this;var s=new Date,n=s.getFullYear(),o=s.getMonth()+1,a=s.getDate(),c=s.getHours(),d=s.getMinutes(),h=s.getSeconds(),l=n+"-"+o+"-"+a+" "+c+":"+d+":"+h;t.put("t",l),t.put("v","1.0"),t.containsKey("versionName")||t.put("versionName",_this.versionName),t.put("plat",_this.getPlat()),t.put("platform",_this.getPlatform()),!t.containsKey("userId")||t.containsKey("loginToken")||t.containsKey("uDate")?t.containsKey("userId")||_this.getUserId()&&(t.put("loginToken",_this.getLoginToken()),t.put("uDate",_this.getUDate()),t.put("userId",_this.getUserId())):(t.put("loginToken",_this.getLoginToken()),t.put("uDate",_this.getUDate()));var u=t.keys().sort(),p="";u.length;for(var m in u){var g=u[m];p+=g+t.get(g)}for(var f=t.get("method")+p+r,y=MD5(f),v=e+"?sign="+y,k=0;k<u.length;k++)(t.get(u[k])+"").indexOf("+")>=0||-1!=(t.get(u[k])+"").indexOf("&")?v+="&"+u[k]+"="+encodeURIComponent(t.get(u[k])):"pageUrl"==u[k]?v+="&"+u[k]+"="+encodeURIComponent(t.get(u[k])):v+="&"+u[k]+"="+t.get(u[k]);return v},DMap:function(){this.data={},this.len=0,this.size=function(){return this.len},this.isEmpty=function(){return this.len<1},this.clear=function(){this.data={},this.len=0},this.put=function(e,t){this.data[e]=void 0==t||"null"==t||""==t?"":t,this.len++},this.remove=function(e){return this.data[e]=null,this.len--,!0},this.get=function(e){return this.data[e]},this.containsKey=function(e){return!!this.data[e]},this.containsValue=function(e){try{for(var t in this.data)if(this.data[t]==e)return!0}catch(e){return!1}return!1},this.values=function(){var e=new Array;for(var t in this.data)e.push(this.data[t]);return e},this.keys=function(){var e=new Array;for(var t in this.data)e.push(t);return e}},sendAjax:function(e,t){$.ajax({type:"get",cache:!0,dataType:"jsonp",url:e,success:function(e){t&&t(e)}})},getUserId:function(){return this.cookie.get("user")?JSON.parse(this.cookie.get("user")).userid:""},getUserTel:function(){return this.cookie.get("user")?JSON.parse(this.cookie.get("user")).tel:""},getLoginToken:function(){return this.cookie.get("user")?JSON.parse(this.cookie.get("user")).loginToken:""},getUDate:function(){return this.cookie.get("user")?JSON.parse(this.cookie.get("user")).uDate:""},getPlatform:function(){var t=e.navigator.userAgent.toLowerCase(),i=["android","ios","ipad","iphone"];if("micromessenger"==t.toLowerCase().match(/MicroMessenger/i))return"wechat";if(!(t.indexOf("ddky/")>0))return t.indexOf("zfws/")>0?"ZFDS":"H5";for(var r=0;r<i.length;r++)if(t.indexOf(i[r])>0)return i[r]},getUserInfo:function(){return this.cookie.get("user")?JSON.parse(this.cookie.get("user")):""},saveUser:function(e,t){t=t||7,this.cookie.set("user",JSON.stringify(e),{expires:t,domain:this.domain_way})},isWeiXin:function(){return"micromessenger"==e.navigator.userAgent.toLowerCase().match(/MicroMessenger/i)},changeHttps:function(e){if(e.length&&"string"==typeof e&&"null"!=e){if(e.indexOf("h.ddky.com")>0)var t="https:"+e.split(":")[1].replace(/h.ddky.com/,"m.ddky.com");else if(e.indexOf("h.ddsy.com")>0)var t="https:"+e.split(":")[1].replace(/h.ddsy.com/,"m.ddky.com");else if(e.indexOf("page.ddky.com")>0)var t=e;else if(e.indexOf("app/ddky/wisdom/")>0)var t=e;else if(e.indexOf("imgyfb.ddky.com")>0)var t=e;else var t="https:"+e.split(":")[1].replace(/ddsy/,"ddky");return t}return e},login_again:function(){this.online?e.location.href=e.location.href.indexOf("https://")<0?"http://m.ddky.com/login.html":"https://m.ddky.com/login.html":e.location.href="http://192.168.89.47:8080/wap/wap4.3/login.html"},getAddress:function(){return void 0===this.cookie.get("address")||""===this.cookie.get("address")?"":JSON.parse(this.cookie.get("address"))},getAddressId:function(){return void 0===this.cookie.get("address")||""===this.cookie.get("address")?"":JSON.parse(this.cookie.get("address")).addressId},saveAddress:function(e,t){t=t||"",this.cookie.set("address",JSON.stringify(e),{domain:this.domain_way,expires:t})},goBack:function(){s.referrer?e.location.href=s.referrer:e.history.back()},getQueryString:function(t,i){var r=new RegExp("(^|&)"+t+"=([^&]*)(&|$)","i");i=i?i.substr(i.indexOf("?")+1):e.location.search.substr(1);var s=i.match(r);return null!=s&&s[2]&&""!=s[2]&&"null"!=s[2]?s[2]:""},toUrl:function(t,i,r){i=i||!1,r=r||!1,-1!=t.indexOf(".html?")?r?i?e.location.replace(t+"&"+e.location.search):e.location.replace(t):e.location.href=i?t+"&"+e.location.search:t:r?i?e.location.replace(t+"?"+e.location.search):e.location.replace(t):e.location.href=i?t+"?"+e.location.search:t},isMobile:function(e){return!!/^(1[\d]{10})$/.test(e)},getShopId:function(){var e=this.cookie.get("shopInfo");return""!=e&&void 0!=e&&e?JSON.parse(e).shopId:""},getShopSuite:function(){var e=this.cookie.get("shopInfo");return""!=e&&void 0!=e&&e?JSON.parse(e).suite||"":""},saveShopInfo:function(e,t){t=t||"",this.cookie.set("shopInfo",JSON.stringify(e),{domain:this.domain_way,expires:t})},getCity:function(){var e=this.cookie.get("cityName");return e||""},saveCity:function(e,t){this.cookie.set("cityName",e,{domain:this.domain_way,expires:t}),t=t||""},saveCookie:function(e,t,i){i=i||"",this.cookie.set(e,t,{domain:this.domain_way,expires:i})},saveEditAddr:function(t){e.localStorage.setItem("editAddr",t)},getEditAddr:function(){return e.localStorage.getItem("editAddr")||""},changePre:function(e){return-1===e.indexOf("https://")?e.replace("http://","http://pre"):e.replace("https://","https://pre")},findInArr:function(e,t){for(var i=0;i<e.length;i++)if(e[i]==t)return!0;return!1},rnd:function(e,t){return Math.floor(e+Math.random()*(t-e))},swiperPlay:function(e,t,i,r){e=e||".swiper-container",t=t||".swiper-pagination",i=i||!1,r=r||2500;new Swiper(e,{pagination:t,loop:i,paginationClickable:!0,spaceBetween:0,centeredSlides:!0,autoplay:r,autoplayDisableOnInteraction:!1})},saveLngLat:function(e,t,i){i=i||"",this.cookie.set("LNG",e,{domain:this.domain_way,expires:i}),this.cookie.set("LAT",t,{domain:this.domain_way,expires:i})},getLngLat:function(){return JSON.parse(this.cookie.get("LngLat"))},getPosition:function(e,t,i){var r=this;(new BMap.Geolocation).getCurrentPosition(function(e){if(this.getStatus()==BMAP_STATUS_SUCCESS){var s=new BMap.Point(e.point.lng,e.point.lat);(new BMap.Geocoder).getLocation(s,function(t){var s=t.addressComponents;r.saveCity(s.city),r.saveLngLat(e.point.lng,e.point.lat);var n=(s.district,s.street,s.streetNumber,r.urls.positionurl),o=new r.DMap;o.put("city",s.city),o.put("address",s.street+s.streetNumber),o.put("lng",e.point.lng),o.put("lat",e.point.lat);var a=getRequestURL(n,o);$.ajax({type:"get",url:a,cache:!0,dataType:"jsonp",success:function(e){e.data.shopId,e.data.tels,r.saveShopInfo(JSON.stringify(shopinfo)),r.hideLoading(),i&&i()}})})}else t&&t()},function(e){t&&t()},{enableHighAccuracy:!0,timeout:8e3})},quit:function(){this.cookie.empty(),this.online?e.location.href=$$.isPre?"http://prem.ddky.com/":"https://m.ddky.com/":e.location.href="http://192.168.89.47:8088/"},mcpShare:function(e,t,i,r){var s=this,n=new this.DMap;n.put("method","com.ddky.promotion.page.share.conf"),n.put("pageUrl",e);var o=this.getRequestURL(this.urls.url_mcpShare,n);$.ajax({cache:!0,dataType:"jsonp",url:o,success:function(e){0==e.code?r?r(e.result):s.setShare(e.result,t,i):s.alert({width:"260",height:"120",msg:e.msg})}})},setShare:function(t,i,r){var s=this,n=encodeURIComponent(e.location.href),o=s.urls.url_wxConfig+"?url="+n;r&&(t.pageUrl=r),$.ajax({type:"get",url:o,dataType:"jsonp",cache:!0,success:function(e){var r=e;r.jsApiList=["getLocation","onMenuShareTimeline","onMenuShareAppMessage","onMenuShareQQ","onMenuShareQZone","onMenuShareWeibo"],wx.config(r),wx.ready(function(){wx.onMenuShareTimeline({title:t.shareTitle,link:t.pageUrl,imgUrl:t.imageUrl,success:function(){i&&i()}}),wx.onMenuShareAppMessage({title:t.shareTitle,desc:t.shareContent,link:t.pageUrl,imgUrl:t.imageUrl,type:"link",success:function(){i&&i()}}),wx.onMenuShareQQ({title:t.shareTitle,desc:t.shareContent,link:t.pageUrl,imgUrl:t.imageUrl,success:function(){}}),wx.onMenuShareQZone({title:t.shareTitle,desc:t.shareContent,link:t.pageUrl,imgUrl:t.imageUrl,success:function(){}}),wx.onMenuShareWeibo({title:t.shareTitle,desc:t.shareContent,link:t.pageUrl,imgUrl:t.imageUrl,success:function(){}})})}})},codeSign:function(e,t){var i=this;return t=t+""||"1qazxsw2"+i.code,console.log(t),MD5(e+t)},filterWord:function(e){if(e){var t=["�[�-�]","�[�-�]","�[�-�]"];return e=e.replace(new RegExp(t.join("|"),"g"),""),e=e.replace(/<script>|<\/script>|alert|<|\/>|delete|update|select|insert|into|truncate|window|location|search|where|download|file|http:\/\/|.com|javascript|javascript:|meta|jsp|asp|php|refresh|<?php|htm|html|exe|--|style|style=|href|png|jpg|gif|/gim,"")}},setKey:function(t,r){if(e.localStorage)if(t&&!r&&"[object Object]"===t.toString())for(i in t)e.localStorage.setItem(i,t[i]);else e.localStorage.setItem(t,r)},getKey:function(t){if(e.localStorage){if(t.constructor==Array){for(var i=[],r=0;r<t.length;r++)null!==e.localStorage.getItem(t[r])&&i.push(e.localStorage.getItem(t[r]));return i}return e.localStorage.getItem(t)}},clearKey:function(t){if(e.localStorage)if(t.constructor==Array)for(var i=0;i<t.length;i++)e.localStorage.removeItem(t[i]);else e.localStorage.removeItem(t)},showAlertLayer:{show:function(e){var t=s.createElement("div");t.id="pop_showAlert";var i='<div class="pop_showAlert" style="width:'+(e.width||4.8)+'rem;"><p>'+e.msg+'</p><footer><span class="btn_pop_showAlert '+(e.classVal||"")+'">'+(e.btnVal||"确定")+"</span></footer></div>";t.innerHTML=i,s.body.appendChild(t),e.classVal?$("."+e.classVal)[0].addEventListener("click",function(){$$.showAlertLayer.delLayer()},!1):$(".btn_pop_showAlert")[0].addEventListener("click",function(){$$.showAlertLayer.delLayer()},!1)},delLayer:function(){$("#pop_showAlert").remove()},confirm:function(e){var t=s.createElement("div");t.id="pop_showAlert";var i='<div class="pop_showAlert" style="width:'+(e.width||4.8)+'rem;"><p>'+e.msg+'</p><footer class="row_showAlert cl"><span class="btn_pop_showAlertcancel fl '+(e.classCancel||"")+'">'+(e.btnCancel||"取消")+'</span><span class="btn_pop_showAlertsure fr '+(e.classSure||"")+'">'+(e.btnSure||"确定")+"</span></footer></div>";t.innerHTML=i,s.body.appendChild(t),$(".btn_pop_showAlertcancel")[0].addEventListener("click",function(){$$.showAlertLayer.delLayer()},!1)},showLoading:function(){var e=s.createElement("div");e.className="tanchu",e.innerHTML="<p class='loading'>加载中，请稍候</p><img src='https://img.ddky.com/c/wap/images/wap/loading.gif' />";var t=s.createElement("div");t.id="loading",t.appendChild(e),s.body.appendChild(t)},hideLoading:function(){$("#loading").remove()}}},r.prototype.getPlat=r.prototype.getPlatform;var n={alert:function(e){var t=this,i=s.createElement("div");i.className="mask",i.id="pop";var r='<div class="pop" style="width:'+(e.width||240)+"px;height:"+(e.height||120)+'px;"><p>'+e.msg+'</p><footer class="" id="alertsurebtn">'+(e.btnVal||"确定")+"</footer></div>";i.innerHTML=r,s.body.appendChild(i),s.querySelector("#alertsurebtn").addEventListener("click",function(){t.delLayer(),setTimeout(function(){e.fn&&e.fn()},100)},!1)},delLayer:function(){var t=s.getElementById("pop");e.document.body.removeChild(t)},confirm:function(e){var t=this;e.btnSure=e.btnSure||"确定";var i=s.createElement("div");i.className="mask",i.id="pop";var r='<div class="pop" style="width:'+(e.width||240)+"px;height:"+(e.height||120)+'px;"><p>'+e.msg+'</p><div class="confirm_row cl"><span class="btn-cance fl" id="btn-cancel">'+(e.btnCancel||"取消")+'</span><span id="btn-sure" class="btn-sure fr">'+e.btnSure+"</span></div></div>";i.innerHTML=r,s.body.appendChild(i),setTimeout(function(){s.querySelector("#btn-cancel").addEventListener("click",function(){e.fn1&&"function"==typeof e.fn1?(t.delLayer(),e.fn1()):t.delLayer()},!1),s.querySelector("#btn-sure").addEventListener("click",function(){e.fn&&"function"==typeof e.fn?(t.delLayer(),e.fn()):t.delLayer()},!1)},100)},alert1:function(e){e.msg1=e.msg1||"",e.confirm=e.confirm||!1;var t=this,i=s.createElement("div");i.id="gift_alert";var r='<div id="gift_content">';e.msg1?r+='<p class="gift_content">'+e.msg+'</p><p class="gift_content">'+e.msg1+"</p>":r+="<p>"+e.msg+"</p>",r+='<div class="gift_bottom">',e.confirm?r+='<span class="gift_btns gift_btns_cancel">取消</span><span class="gift_btns gift_btns_sure">确认</span>':r+='<span class="gift_btns_sure">'+(e.btnVal||"确认")+"</span>",r+="</div></div>",i.innerHTML=r,s.body.appendChild(i),e.confirm&&s.querySelector(".gift_btns_cancel").addEventListener("click",function(){t.delLayer1()},!1),s.querySelector(".gift_btns_sure").addEventListener("click",function(){t.delLayer1(),setTimeout(function(){e.fn&&e.fn()},100)},!1)},delLayer1:function(){var t=s.getElementById("gift_alert");e.document.body.removeChild(t)},showLoading:function(){var e=s.createElement("div");e.className="tanchu",e.innerHTML="<p class='loading'>加载中，请稍候</p><img width='80' height='160'  src='https://img.ddky.com/c/wap/images/wap/loading.gif' />";var t=s.createElement("div");t.id="loading",t.style.width="100%",t.style.height="100%",t.style.position="fixed",t.style.top=0,t.style.right=0,t.style.backgroundColor="transparent",t.style.zIndex=13,t.appendChild(e),s.body.appendChild(t)},hideLoading:function(){s.getElementById("loading")&&s.body.removeChild(s.getElementById("loading"))},tusi:function(e,t){t=t||1e3;var i=s.createElement("div");i.className="tusi",i.innerHTML='<div class="tusi-box"><p class="tusi-title">'+e+"</p></div>",s.body.appendChild(i),setTimeout(function(){$(".tusi").animate({opacity:0},{duration:600,complete:function(){$(".tusi").remove()}})},t)},toggle_nav:function(){var t=this,i=s.createElement("div"),r=s.createElement("div");r.className="layer_menu none",i.id="ss_menu";$(i).html('<div class="ss_i"><i class="toservice"><a href="https://kf.ddky.com/chat/h5/index.html?sysNum=a90699225a6a4c6494e16e7d28fd20bf&groupId=ceeaba1416f045bf9f31956c2edb50d5&moduleType=2"></a></i></div><div class="ss_i"><p class="shopnum none"></p><i class="toshop"></i></div><div class="ss_i"><i class="tohome"></i></div><div class="ss_i"><i class="toback"></i></div><div class="menu_point"><div class="share" id="ss_toggle" data-rot="180"><div class="bar"></div></div></div>'),s.body.appendChild(r),s.body.appendChild(i),setTimeout(function(){var e=t.cookie("yhSign");e&&"yh365"==e&&$("#ss_menu .menu_point").addClass("yh365")},0),$(r).click(function(){$(".layer_menu").hide(),$("#ss_menu .ss_i").removeClass("ss_menu_open"),$("#ss_toggle").removeClass("close")}),$("#ss_toggle").click(function(){$("#ss_menu .ss_i").hasClass("ss_menu_open")?($(".layer_menu").hide(),$("#ss_menu .ss_i").removeClass("ss_menu_open"),$(this).removeClass("close")):($(".layer_menu").show(),$("#ss_menu .ss_i").addClass("ss_menu_open"),$(this).addClass("close"))}),$(".ss_i").on("click",function(i){switch(i.target.className){case"toshop":$(".layer_menu").hide(),$("#ss_menu .ss_i").removeClass("ss_menu_open"),""==t.getUserId()?e.location.href="login.html":e.location.href="goodscar-list.html";break;case"tohome":e.location.href="index.html";break;case"toback":s.referrer?e.location.href=s.referrer:e.history.back()}})}};for(var o in n)r.prototype[o]=n[o];return"function"==typeof define&&define.amd&&define("ddky",[],function(){return new r}),t||(e.ddky=e.$$=new r),new r}),setTimeout(function(){$$.online&&$$.onShow()},100);